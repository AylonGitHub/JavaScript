<!DOCTYPE html>
<html lang="pt-br">
<head>
	
	<title>setTimeout e setInterval</title>
	<meta charset="utf-8"/>

  <style>
    #dv1{
      width: 100px;
      height: 100px;
      border: 1px solid #000;
      background-color: #fff;
    }
  </style>

  <script>

    var tmp;

    function mudaCor(){
      var obj=document.getElementById("dv1");
      var r=Math.floor(Math.random()*255);
      var g=Math.floor(Math.random()*255);
      var b=Math.floor(Math.random()*255);
      obj.style.backgroundColor="rgb("+r+","+g+","+b+")";
    }


    function iniciar(){
        tmp=setInterval(mudaCor,1000); // tmp precisa ser uma variável global para ser enchergado pelo clearInterval.
        }
    function parar(){
        clearInterval(tmp);
    }   

    function addEventos(){
       document.getElementById("bt1").addEventListener("click",iniciar);
       document.getElementById("bt2").addEventListener("click",parar);
    }
    window.addEventListener("load",addEventos);

    //var tmp=setTimeout(mudaCor,3000); // muda apenas uma vez.

    //window.addEventListener("load",mudaCor); // chama a função no carregamento da página.

  </script>


</head>
<body>

   
    <div id="dv1"></div>
    <br>
    <button id="bt1">Iniciar</button>
    <button id="bt2">Parar</button>

    
</body>
</html>